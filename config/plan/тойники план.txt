Проект новой системы тайников.

Этап 1:

Спавн инфы у НПС.

При net_spawn спрашиваем у каждого НПС, есть ли у него инфа "has_a_stash". Если есть - ничего не делаем,
нет - даём "has_a_stash" и переходим к выбору тайника.

Выбор тайника.

Система на подобие xr_info

сито через списки:

community

rank

location???

то есть в итоге получается список из n возможных тайников. 
Шанс выпадения тайника например 10 %, тогда берём id этого нпс, берём его последнюю цифру и если она совпадает с ключом, заданным заранее, выдаём тайник по схеме:
если конечная цифра id нпс+ключ <= кол-ва тайников - выдаём тайник под номером id, иначе тайник под номером id нпс+ключ mod кол-во тайников

Этап 2:

Получение тайника игроком:

При шмоне НПС смотрим, есль ли у него инфа о тайнике из списка. Нет - конец алгоритма
Есть и есть такой у гг уже - конец алгоритма
Есть но нет такого у гг - даём гг инфу и спавним тайник.

В названии тайника есть префикс-название уровня. Читаем его и определяем lvid и gvid из таблицы
Имя тайника = имя пути, по которому его спавнят. Спавним тайник по секции из spawn sections координаты берём из пути, lvid и gvid уже определенеы.
Следом сразу кидаем метку по ид

Когда последний объект из тайника забран убираем метку по ид

Конвенция нейминга: 
infop, section in tm.ltx and way: локация_secret_имя 
name: локация_secret_имя_name
description: локация_secret_имя_descr